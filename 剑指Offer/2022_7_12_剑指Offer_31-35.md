[toc]



#  ğŸˆæ ˆçš„å‹å…¥ã€å¼¹å‡ºåºåˆ—

[å‰‘æŒ‡ Offer 31. æ ˆçš„å‹å…¥ã€å¼¹å‡ºåºåˆ— - åŠ›æ‰£ï¼ˆLeetCodeï¼‰](https://leetcode.cn/problems/zhan-de-ya-ru-dan-chu-xu-lie-lcof/)

å€ŸåŠ©ä¸€ä¸ªè¾…åŠ©æ ˆæ¨¡æ‹Ÿå³å¯ã€‚

![image-20220715100504792](https://pic-1304888003.cos.ap-guangzhou.myqcloud.com/img/image-20220715100504792.png)



```cpp
class Solution {
public:
	bool validateStackSequences(vector<int>& pushed, vector<int>& popped) {

		int push_sz = pushed.size();
		int pop_sz = popped.size();
		if (push_sz == 0&&pop_sz==0)
		{
			return true;
		}
		stack<int>push_st;
		push_st.push(pushed[0]);
		int j = 0;
		for (int i = 1; i < pushed.size(); i++)
		{
			if (!push_st.empty()&&push_st.top() == popped[j])
			{
				while (!push_st.empty() && push_st.top() == popped[j])
				{
					push_st.pop();
					j++;
				}		
			}
			push_st.push(pushed[i]);
		}
		while (!push_st.empty() && push_st.top() == popped[j])
		{
			push_st.pop();
			j++;
		}
		if (push_st.empty())
		{
			return true;
		}
		return false;

	}
};
```

æ ¹æ®å¤§ä½¬çš„é¢˜è§£ç®€åŒ–äº†ä¸€ä¸‹ã€‚è¿™æ˜¯ä»£ç å®ç°çš„è§’åº¦ï¼Œæ—¶é—´å¤æ‚åº¦ä¸Šå¹¶æ²¡ä»€ä¹ˆä¸åŒã€‚

> ä¼˜åŒ–çš„ç‚¹åœ¨äºï¼šä»£ç å®ç°ä¸Šæˆ‘å…ˆæŠŠç¬¬ä¸€ä¸ªå…ƒç´ å…¥æ ˆï¼Œå†å»æ¯”è¾ƒæ ˆé¡¶å…ƒç´ å’Œpopåºåˆ—ï¼Œä¹‹åå†å°†pushåºåˆ—çš„å…ƒç´ å…¥æ ˆã€‚ä»£ç å¯ä»¥ä¼˜åŒ–ä¸ºï¼Œæ¯æ¬¡åˆ¤æ–­å‰å…ˆæŠŠå…ƒç´ å…¥æ ˆå†å»åˆ¤æ–­ï¼Œå°±ä¸ç”¨åœ¨å¾ªç¯ç»“æŸå†ç”¨ä¸€ä¸ªwhileå¾ªç¯å»æ¯”è¾ƒã€‚

```cpp
class Solution {
public:
	bool validateStackSequences(vector<int>& pushed, vector<int>& popped) {

		int push_sz = pushed.size();
		if (push_sz == 0)
		{
			return true;
		}
		stack<int>push_st;
		int j = 0;
		for (int i = 0; i < push_sz ; i++)
		{
            push_st.push(pushed[i]);
			if (!push_st.empty()&&push_st.top() == popped[j])
			{
				while (!push_st.empty() && push_st.top() == popped[j])
				{
					push_st.pop();
					j++;
				}		
			}		
		}	
		return push_st.empty();
	}
};
```

# ğŸˆä»ä¸Šåˆ°ä¸‹æ‰“å°äºŒå‰æ ‘

[å‰‘æŒ‡ Offer 32 - I. ä»ä¸Šåˆ°ä¸‹æ‰“å°äºŒå‰æ ‘ - åŠ›æ‰£ï¼ˆLeetCodeï¼‰](https://leetcode.cn/problems/cong-shang-dao-xia-da-yin-er-cha-shu-lcof/)

å±‚åºéå†äºŒå‰æ ‘ï¼Œä¹Ÿå°±æ˜¯æˆ‘ä»¬è¯´çš„BFS,å¸¸ç”¨é˜Ÿåˆ—å®ç°ã€‚

ç¬¬ä¸€ç§å†™æ³•ï¼Œé˜Ÿåˆ—é‡Œæœ‰ç©ºæŒ‡é’ˆã€‚

```cpp
class Solution {
public:
	vector<int> levelOrder(TreeNode* root) {
        queue<TreeNode*>q;
        q.push(root);
        vector<int>ret;
        while (!q.empty())
        {
            TreeNode* tmp = q.front();
            q.pop();
            if (tmp)
            {
                ret.push_back(tmp->val);
				q.push(tmp->left);
				q.push(tmp->right);
            }
        }
        return ret;
	}
};
```

ç¬¬äºŒä¸ªç‰ˆæœ¬ï¼Œé˜Ÿåˆ—é‡Œå§‹ç»ˆæ²¡æœ‰ç©ºæŒ‡é’ˆã€‚

```cpp
class Solution {
public:
	vector<int> levelOrder(TreeNode* root) {
        queue<TreeNode*>q;
        vector<int>ret;
        if(root==NULL)
        {
             return ret;
        }
        q.push(root);
        while (!q.empty())
        {
            TreeNode* tmp = q.front();
            q.pop();
            ret.push_back(tmp->val);
            if (tmp->left)
            {
                q.push(tmp->left);
            }
            if (tmp->right)
            {
                q.push(tmp->right);
            }		            
        }
        return ret;
	}
};
```

## ğŸŠæ‹“å±•

### ğŸ¥ä»ä¸Šåˆ°ä¸‹æ‰“å°äºŒå‰æ ‘ II

[å‰‘æŒ‡ Offer 32 - II. ä»ä¸Šåˆ°ä¸‹æ‰“å°äºŒå‰æ ‘ II - åŠ›æ‰£ï¼ˆLeetCodeï¼‰](https://leetcode.cn/problems/cong-shang-dao-xia-da-yin-er-cha-shu-ii-lcof/)

åˆ†è¡Œæ‰“å°æ¯ä¸€å±‚çš„ç»“ç‚¹çš„å€¼ã€‚è¿™å°±å¾—ç”¨åˆ°æ˜¯ä¸Šé¢å±‚åºéå†çš„ç¬¬äºŒç§å†™æ³•ï¼Œä¿è¯ç©ºèŠ‚ç‚¹ä¸å…¥é˜Ÿï¼Œè¿™æ ·å°±èƒ½è·å–æ¯ä¸€å±‚çš„èŠ‚ç‚¹æ•°ã€‚æ‹¿åˆ°ç»“ç‚¹æ•°å†å€ŸåŠ©å¾ªç¯æŒ¨ä¸ªå‡ºé˜Ÿï¼Œå†å°†è‡ªå·±çš„å­©å­èŠ‚ç‚¹å…¥é˜Ÿå³å¯ã€‚

**ä»£ç å®ç°ä¸Šè¦è®°å¾—é˜Ÿåˆ—ä¸æ­¢æœ‰pushå’Œpopæ–¹æ³•ï¼Œè¿˜æœ‰size()æ–¹æ³•**

```cpp
 class Solution {
 public:
	 vector<vector<int>> levelOrder(TreeNode* root) {
         vector<vector<int>> ret;
         if (root==NULL)
         {
             return ret;
         }
         
         queue<TreeNode*>q;
         q.push(root);
         while (!q.empty())
         {
             vector<int>tmp;
             int sz = q.size();
             for (int i=0;i<sz;i++)//æ¯æ¬¡éƒ½æŠŠè¿™ä¸€å±‚çš„å‡ºé˜Ÿ
             {
                 TreeNode* t = q.front();
                 tmp.push_back(t->val);
                 q.pop();
				 if (t->left) q.push(t->left);
				 if (t->right) q.push(t->right);
             }
             ret.push_back(tmp);
         }
         return ret;
	 }
 };
```

### ğŸ¥ä»ä¸Šåˆ°ä¸‹æ‰“å°äºŒå‰æ ‘ III

[å‰‘æŒ‡ Offer 32 - III. ä»ä¸Šåˆ°ä¸‹æ‰“å°äºŒå‰æ ‘ III - åŠ›æ‰£ï¼ˆLeetCodeï¼‰](https://leetcode.cn/problems/cong-shang-dao-xia-da-yin-er-cha-shu-iii-lcof/)

#### ğŸ’æ§åˆ¶å…¥é˜Ÿå’Œå‡ºé˜Ÿæ–¹å¼

è¿™ç§å†™æ³•çœŸçš„ç»•ï¼ˆåé¢ä¼šç»™ä¸€ç§ç®€åŒ–ç‚¹çš„æ€æƒ³ï¼‰ï¼Œæ€æƒ³æ˜¯åˆ©ç”¨åŒç«¯é˜Ÿåˆ—å¯å¤´æ’å¯å°¾æ’ã€‚

å¥‡æ•°è¡Œï¼šä»å¤´å–åˆ°å°¾ï¼ˆå¥½è®©ä¸‹ä¸€å±‚çš„å­©å­å…¥é˜Ÿï¼‰ï¼Œå·¦å­©å­å°¾æ’å…¥é˜Ÿï¼Œå†å³å­©å­å°¾æ’å…¥é˜Ÿï¼Œä¿è¯å·¦å­©å­åœ¨å³å­©å­çš„åé¢ï¼Œè‡ªå·±çš„å€¼å°¾æ’åˆ°å­˜æ”¾ç»“æœçš„æ•°ç»„é‡Œé¢ã€‚

å¶æ•°è¡Œï¼šä»å°¾å–åˆ°å¤´ï¼ˆå¥½è®©ä¸‹ä¸€å±‚çš„å­©å­å…¥é˜Ÿï¼‰ï¼Œå³å­©å­å¤´æ’å…¥é˜Ÿï¼Œå†å·¦å­©å­å¤´æ’å…¥é˜Ÿï¼Œä¿è¯å³å­©å­åœ¨å·¦å­©å­çš„åé¢ï¼Œè‡ªå·±çš„å€¼å°¾æ’åˆ°å­˜æ”¾ç»“æœçš„æ•°ç»„é‡Œé¢ã€‚

>
>
>![image-20220715163812540](https://pic-1304888003.cos.ap-guangzhou.myqcloud.com/img/image-20220715163812540.png)
>
>3å…ˆå…¥é˜Ÿï¼Œé˜Ÿåˆ—é‡Œçš„æ•°æ˜¯å¥‡æ•°è¡Œ(ç¬¬ä¸€è¡Œ)çš„,å·¦å­©å­9å…¥é˜Ÿï¼Œå†20å…¥é˜Ÿã€‚åˆ°äº†9å’Œ20è¿™ä¸€å±‚ï¼Œä»å°¾éå†åˆ°å¤´ï¼ŒæŠŠ20çš„å³å­©å­7å…¥é˜Ÿï¼Œå†æŠŠ15,2,1åˆ†åˆ«å¤´æ’å…¥é˜Ÿï¼Œç¬¬ä¸‰å±‚æ—¶é˜Ÿåˆ—é‡Œçš„å…ƒç´ å°±æ˜¯1,2,15,7ï¼Œå†ä»å¤´éå†åˆ°å°¾ï¼Œä»1å¼€å§‹ï¼Œ1çš„å·¦å­©å­5å°¾æ’å…¥é˜Ÿï¼Œ...åˆ°ç¬¬å››å±‚æ—¶é˜Ÿåˆ—é‡Œçš„å…ƒç´ ä¸º5,6,7,8ï¼›å†ä»å°¾éå†åˆ°å¤´ã€‚
>
>åˆ©ç”¨å¤´æ’å…¥é˜Ÿå’Œå°¾æ’å…¥é˜Ÿä½¿å¾—é˜Ÿåˆ—é‡Œæ¯ä¸€å±‚çš„å…ƒç´ ä¸å›¾ä¸­å…ƒç´ ä»å·¦åˆ°å³æ’åˆ—çš„åºåˆ—ç›¸åŒï¼Œåªä¸è¿‡å¯¹äºå¥‡å¶å±‚çš„éå†æ–¹å¼ä¸åŒï¼Œè€Œéå†åºåˆ—å°±æ˜¯æˆ‘ä»¬è¦çš„ç»“æœã€‚è¯´äº†è¿™ä¹ˆå¤šï¼Œçœ‹ä»£ç è‡ªå·±æ¨¡æ‹Ÿä¸€éæœ€æ¸…æ¥šï¼ˆæ˜¯çœŸçš„ç»•ï¼‰ã€‚

```cpp
 class Solution {
 public:
	 vector<vector<int>> levelOrder(TreeNode* root) {
		 vector<vector<int>>ret;
		 if (root == NULL)
		 {
			 return ret;
		 }
		 deque<TreeNode*>q;
		 q.push_back(root);
		 int cnt = 1;
		 while (!q.empty())
		 {		 
			 int sz = q.size();
			 vector<int>tt;
			 if (cnt%2==1)//å¥‡æ•°
			 {	 
				 for (int i = 0; i < sz; i++)
				 {				
					 TreeNode* tmp = q.front();	
					 tt.push_back(tmp->val);
					 q.pop_front();
					 if (tmp->left)
					 {
						 q.push_back(tmp->left);
					 }
					 if (tmp->right)
					 {
						 q.push_back(tmp->right);
					 }
				 }
			 }
			 else//å¶æ•°
			 {	 
				 for (int i = 0; i < sz; i++)
				 {	
					 TreeNode* tmp = q.back();
					 tt.push_back(tmp->val);
					 q.pop_back();
					 if (tmp->right)
					 {
						 q.push_front(tmp->right);
					 }
					 if (tmp->left)
					 {
						 q.push_front(tmp->left);
					 }
					  
				 }
			 }
			 ret.push_back(tt);
			 cnt++;							
		 }
		 return ret;
	 }
 };
```

#### ğŸ’æ§åˆ¶å‡ºé˜Ÿå…ƒç´ å­˜å…¥ç»“æœæ•°ç»„çš„æ–¹å¼

ä¸Šé¢çš„å†™æ³•é‚£ä¹ˆç»•ï¼Œå‚è€ƒé¢˜è§£åŒºæœ‰ä¸€ç§ç®€å•ç‚¹çš„æ€è·¯ã€‚

ä¿è¯é˜Ÿåˆ—é‡Œæ¯ä¸€å±‚çš„åºåˆ—å’Œæ ‘æ¯ä¸€å±‚ä»å·¦åˆ°å³çš„åºåˆ—ç›¸åŒï¼Œä¹Ÿå°±æ˜¯æœ€å¼€å§‹è®²çš„é˜Ÿåˆ—é‡Œæ²¡æœ‰ç©ºæŒ‡é’ˆçš„å±‚åºéå†ã€‚ä¹‹åå¯¹äºæ¯ä¸€å±‚ï¼Œå¥‡æ•°å±‚å°±å°¾æ’ï¼Œå¶æ•°å±‚å°±å°¾æ’ã€‚

> ![image-20220715163812540](https://pic-1304888003.cos.ap-guangzhou.myqcloud.com/img/image-20220715163812540.png)
>
> ä¿è¯é˜Ÿåˆ—é‡Œæ”¾çš„æ¯ä¸€å±‚æ•°æ®æ˜¯[3] [9,20] [1,2,15,7] [5,6,7,8]
>
> å¯¹äºå¥‡æ•°å±‚å°¾æ’ï¼Œæ¯”å¦‚1,2,15,7å°¾æ’åè¿˜æ˜¯1,2,15,7
>
> å¯¹äºå¶æ•°å±‚å¤´æ’ï¼Œæ¯”å¦‚5,6,7,8å¤´æ’åå°±æ˜¯8,7,6,5ï¼›å°±æ˜¯æˆ‘ä»¬è¦çš„éå†ç»“æœ

ç®€å•æ¥è¯´ï¼Œç¡®å®šé˜Ÿåˆ—é‡Œå…ƒç´ çš„æ’åˆ—ï¼Œå†æ”¹å˜æ¯ä¸€å±‚æ”¾å…¥æ•°ç»„çš„æ–¹å¼å³å¯ã€‚ï¼ˆæŠ½è±¡å°±è‡ªå·±æ¨¡æ‹Ÿä¸€éå§ï¼‰

```cpp
class Solution {
public:
	vector<vector<int>> levelOrder(TreeNode* root) {
		vector<vector<int>>ret;
		if (root == NULL)
		{
			return ret;
		}
		queue<TreeNode*>q;
		q.push(root);
		int cnt = 1;
		while (!q.empty())
		{
			int sz = q.size();
			vector<int>tmp;
			if (cnt % 2 == 1)
			{
				for (int i = 0; i < sz; i++)
				{
					TreeNode* cur = q.front();
					tmp.push_back(cur->val);
					q.pop();
					if (cur->left)
					{
						q.push(cur->left);
					}
					if (cur->right)
					{
						q.push(cur->right);
					}
				}
			}
			else
			{
				for (int i = 0; i < sz; i++)
				{
					TreeNode* cur = q.front();
					tmp.insert(tmp.begin(),cur->val);
					q.pop();
					if (cur->left)
					{
						q.push(cur->left);
					}
					if (cur->right)
					{
						q.push(cur->right);
					}
				}
			}
			ret.push_back(tmp);
			cnt++;
		}
		return ret;
	}
};
```

> ç¬¬ä¸‰ç§åŠæ³•ï¼ŒæŠŠæ¯æ¬¡è¯»åˆ°çš„ä¸€å±‚ï¼Œå¥‡æ•°è¡Œä¸å˜ï¼Œå¶æ•°è¡Œç¿»è½¬,è¿™ç§åŠæ³•ä¹Ÿå¯ä»¥ã€‚ä½†æ˜¯æœ‰ç‚¹å–å·§çš„æ„æ€äº†ã€‚

#  ğŸˆäºŒå‰æœç´¢æ ‘çš„ååºéå†åºåˆ—

[å‰‘æŒ‡ Offer 33. äºŒå‰æœç´¢æ ‘çš„ååºéå†åºåˆ— - åŠ›æ‰£ï¼ˆLeetCodeï¼‰](https://leetcode.cn/problems/er-cha-sou-suo-shu-de-hou-xu-bian-li-xu-lie-lcof/)

**åˆ†åŒºé—´**è¿›è¡Œåˆ¤æ–­å·¦å­æ ‘æ˜¯å¦å°äºæ ¹ï¼Œå³å­æ ‘æ˜¯å¦éƒ½å¤§äºæ ¹ï¼Œé€’å½’æ£€æŸ¥æ‰€æœ‰å­æ ‘ç¬¦ä¸ç¬¦åˆè¿™ä¸ªæ€§è´¨ï¼Œç¬¦åˆå°±æ˜¯äºŒå‰æœç´¢æ ‘ï¼Œï¼Œå¦åˆ™å°±ä¸æ˜¯ã€‚

> æ³¨æ„åŒºé—´è¾¹ç•Œï¼Œæ¯æ£€æŸ¥ä¸€æ¬¡ï¼Œæ ¹èŠ‚ç‚¹è‚¯å®šè¢«å‰”é™¤äº†ç„¶åè¿›è¡Œä¸‹ä¸€è½®æ£€æŸ¥ï¼Œå› ä¸ºæ£€æŸ¥çš„å°±æ˜¯ä»¥è¿™ä¸ªç»“ç‚¹ä¸ºæ ¹ç»“ç‚¹çš„æ ‘æ˜¯ä¸æ˜¯äºŒå‰æœç´¢æ ‘ã€‚

å‚è€ƒé¢˜è§£åŒºå¤§ä½¬æ‰å®ç°çš„ä»£ç ï¼Œä¸‹æ¬¡åˆ¤æ–­å·¦å³å­æ ‘æ€§è´¨æ—¶å¯ä»¥æƒ³æƒ³åˆ†åŒºé—´+é€’å½’åˆ¤æ–­

```cpp
class Solution {
public:
	bool Check(vector<int>& postorder,int left, int right)//leftå’Œrightéƒ½å¯ä»¥å–åˆ°
	{
		if (left >= right)
		{
			return true;//åªæœ‰ä¸€ä¸ªç»“ç‚¹ï¼Œæˆ–è€…æ²¡æœ‰ç»“ç‚¹ï¼Œæ£€æŸ¥åˆ°å¶å­äº†ã€‚
		}
		int p = left;//postorder[right]å°±æ˜¯è¿™ä¸ªåºåˆ—çš„æ ¹
		while (postorder[p]<postorder[right])
		{
			p++;
		}
		int mid = p;//æ­¤æ—¶pçš„å·¦è¾¹å°±æ˜¯å·¦å­æ ‘
		while (postorder[p]>postorder[right])
		{
			p++;
		}
		//å¦‚æœå·¦å­æ ‘éƒ½å°äºæ ¹ï¼Œå³å­æ ‘éƒ½å¤§äºæ ¹ï¼Œæ­¤æ—¶çš„på°±ä¼šåœåœ¨rightè¿™ä¸ªä½ç½®
		//æ‰€ä»¥æˆ‘ä»¬åªè¦æ£€æŸ¥pæ˜¯ä¸æ˜¯åœ¨rightçš„ä½ç½®ï¼Œå°±å¯ä»¥çŸ¥é“å½“å‰æ ‘æ»¡ä¸æ»¡è¶³äºŒå‰æœç´¢æ ‘çš„æ€§è´¨
		//å†è¿›è¡Œé€’å½’æ£€æŸ¥æ¯ä¸€é¢—å­æ ‘ï¼Œå°±èƒ½çŸ¥é“æ•´æ£µæ ‘æ˜¯ä¸æ˜¯äºŒå‰æœç´¢æ ‘
		return p == right && Check(postorder,left, mid - 1) && Check(postorder,mid, right-1);
	}
	bool verifyPostorder(vector<int>& postorder) {
		return Check(postorder,0, postorder.size() - 1);
	}
	
};
```

å•è°ƒæ ˆï¼ˆæ ˆé‡Œçš„å…ƒç´ æ˜¯å•è°ƒçš„ï¼‰æ³•,æ—¶é—´å¤æ‚åº¦æ˜¯Oï¼ˆnï¼‰

> æˆ‘æƒ³ä¸åˆ°ã€‚ã€‚ã€‚å‚è€ƒé¢˜è§£åŒºçš„Kç¥ä»£ç å®ç°äº†ä¸€ä¸‹ï¼Œåªèƒ½çŸ¥é“è¿™ä¹ˆåšå¯ä»¥ï¼Œä¸çŸ¥é“ä¸ºå•¥å¯ä»¥è¿™ä¹ˆåš
>
> å•è°ƒæ ˆçš„æ€è·¯ï¼šååºå€’è¿‡æ¥ï¼Œå˜æˆæ ¹å³å·¦ï¼Œæ­¤æ—¶ä»å‰å¾€åéå†è‚¯å®šæ˜¯å…ˆå‡åºå†é™åºï¼Œå› ä¸ºå³å­æ ‘çš„æ¯ä¸ªç»“ç‚¹éƒ½å¤§äºæ ¹ã€‚
>
> å½“ç¢°åˆ°é™åºçš„ç»“ç‚¹æ—¶ï¼Œå¯ä»¥å‘ç°è¿™ä¸ªç»“ç‚¹çš„çˆ¶äº²ä¸€å®šåœ¨æ ˆé‡Œé¢ï¼Œè€Œä¸”æ˜¯æ ˆé‡Œæœ€æ¥è¿‘ä»–çš„ï¼Œå³æ ˆé‡Œå¤§äºä»–ä½†æ˜¯å·®å€¼æœ€å°çš„å°±æ˜¯ä»–çš„æ ¹èŠ‚ç‚¹ã€‚é€šè¿‡è¿™ç§æ–¹æ³•å¯ä»¥å‘ç°ï¼Œå½“æˆ‘ä»¬èƒ½æˆåŠŸéå†å®Œï¼Œå³æ‰€æœ‰çš„ç»“ç‚¹éƒ½ç¬¦åˆäºŒå‰æœç´¢æ ‘çš„æ€§è´¨ï¼Œé‚£æ•´æ£µæ ‘éƒ½æ˜¯äºŒå‰æœç´¢æ ‘ã€‚
>
> [Kç¥é¢˜è§£](https://leetcode.cn/problems/er-cha-sou-suo-shu-de-hou-xu-bian-li-xu-lie-lcof/solution/mian-shi-ti-33-er-cha-sou-suo-shu-de-hou-xu-bian-6/)
>
> [ä¾‹å­ç†è§£](https://leetcode.cn/problems/er-cha-sou-suo-shu-de-hou-xu-bian-li-xu-lie-lcof/solution/di-gui-he-zhan-liang-chong-fang-shi-jie-jue-zui-ha/

```cpp
class Solution {
public:
	bool verifyPostorder(vector<int>& postorder) {
		stack<int>st;
		int root = 0x7fffffff;//INT_MAX
		for (int i=postorder.size()-1;i>=0;i--)
		{
			if (postorder[i]>root)//æœ‰ä¸€ä¸ªç»“ç‚¹ä¸ç¬¦åˆæœç´¢æ ‘çš„æ€§è´¨ç›´æ¥return false
			{
				return false;
			}
			while (!st.empty() && st.top() > postorder[i])//æŠŠæ ¹èŠ‚ç‚¹ä»¥åŠå¤§äºæ ¹èŠ‚ç‚¹çš„æ•°æ®å…¨éƒ¨popï¼Œå› ä¸ºæ ˆæ˜¯å•è°ƒçš„
			{
				root =st.top();
                st.pop();
				
			}
			st.push(postorder[i]);
		}
		return true;
	}
};
```



# ğŸˆäºŒå‰æ ‘ä¸­å’Œä¸ºæŸä¸€å€¼çš„è·¯å¾„

[å‰‘æŒ‡ Offer 34. äºŒå‰æ ‘ä¸­å’Œä¸ºæŸä¸€å€¼çš„è·¯å¾„ - åŠ›æ‰£ï¼ˆLeetCodeï¼‰](https://leetcode.cn/problems/er-cha-shu-zhong-he-wei-mou-yi-zhi-de-lu-jing-lcof/)

å›æº¯æ³•è®°å½•è·¯å¾„ï¼Œä½†æ˜¯æ³¨æ„æ‰¾åˆ°è·¯å¾„ä¸èƒ½ç«‹å³é€€å‡ºï¼Œèµ°åˆ°å¶å­ä¹‹åä¸ç®¡æ‰¾æ²¡æ‰¾åˆ°éƒ½è¦æŠŠç»“ç‚¹åˆ æ‰ï¼ˆpop_backï¼‰ï¼Œè¿™æ ·æ‰èƒ½ä¸å½±å“å›æº¯ï¼Œä¸ç„¶å¯èƒ½é€ æˆå¤šäº†å‡ ä¸ªç»“ç‚¹çš„æƒ…å†µã€‚

> ä¹¦ä¸Šç»™çš„æ€»ç»“
>
> ![image-20220716145743241](https://pic-1304888003.cos.ap-guangzhou.myqcloud.com/img/image-20220716145743241.png)
>
> åˆ©ç”¨vectorä¿å­˜æ ˆçš„è·¯å¾„

```c++
class Solution {
public:
    void PreOrder(TreeNode* root,int k, int target)
    {
        if(root==NULL)//å¤„ç†ä¼ è¿›æ¥ä¸ºç©ºçš„ç»“ç‚¹
        {
            return ;
        }
        k+=root->val;
        path.push_back(root->val);//å½“å‰ç»“ç‚¹å°¾æ’è¿›å»
        if (root->left==NULL&&root->right==NULL&&k==target)
        { 
            ret.push_back(path);//æ‰¾åˆ°å¶å­å°±æ˜¯ä¸€æ¡è·¯å¾„ è¿™æ¡è·¯å¾„åˆç†ï¼Œä¸èƒ½ç«‹å³return
        }
        PreOrder(root->left, k,target); 
        PreOrder(root->right, k,target); 
        path.pop_back();//å›æº¯
        return ;
    }
    vector<vector<int>> pathSum(TreeNode* root, int target) {
        if(root==NULL)
        {
            return ret;
        }
        PreOrder(root, 0, target);
        return ret;
    }
private:
    vector<int>path;
    vector<vector<int>>ret;
};
```



#  ğŸˆå¤æ‚é“¾è¡¨çš„å¤åˆ¶

[å‰‘æŒ‡ Offer 35. å¤æ‚é“¾è¡¨çš„å¤åˆ¶ - åŠ›æ‰£ï¼ˆLeetCodeï¼‰](https://leetcode.cn/problems/fu-za-lian-biao-de-fu-zhi-lcof/)

## ğŸŠå“ˆå¸Œ

å“ˆå¸Œæ€æƒ³æœ‰ä¸¤ç‰ˆä»£ç ï¼Œç¬¬ä¸€ç‰ˆæ˜¯æˆ‘è‡ªå·±å†™çš„ï¼Œå†™çš„å¾ˆåƒåœ¾ã€‚ä»£ç ç»†èŠ‚ï¼ˆå°±æ²¡æœ‰ç»†èŠ‚ï¼‰ï¼Œ**å»ºè®®ç›´æ¥è·³åˆ°ç¬¬äºŒç‰ˆ**ï¼Œç¬¬ä¸€ç‰ˆçš„ä»£ç ä»…ä¸ºè®°å½•ã€‚

> æˆ‘æäº†ä¸‰ä¸ªæ˜ å°„å…³ç³»
>
> ï¼ˆæ—§é“¾è¡¨çš„ç»“ç‚¹åœ°å€ï¼Œæ–°é“¾è¡¨çš„ç»“ç‚¹åœ°å€ï¼‰
>
> ï¼ˆæ—§é“¾è¡¨çš„ç»“ç‚¹åœ°å€ï¼Œæ—§ç»“ç‚¹çš„randomç»“ç‚¹åœ°å€ï¼‰
>
> ï¼ˆæ–°é“¾è¡¨çš„ç»“ç‚¹åœ°å€ï¼Œæ—§é“¾è¡¨çš„ç»“ç‚¹åœ°å€ï¼‰
>
> è¿™ä¸‰ä¸ªæ˜ å°„å…³ç³»éƒ½æ˜¯ä¸ºäº†randomç»“ç‚¹æœåŠ¡çš„ã€‚
>
> æˆ‘çš„æ€æƒ³æ˜¯æœ‰ä¸€ä¸ªæ–°èŠ‚ç‚¹ã€‚æ‰¾åˆ°æ–°èŠ‚ç‚¹çš„randomç»“ç‚¹çš„é¡ºåºï¼šæ–°èŠ‚ç‚¹->æ–°èŠ‚ç‚¹å¯¹åº”çš„æ—§ç»“ç‚¹->æ—§ç»“ç‚¹å¯¹åº”çš„æ—§randomç»“ç‚¹->æ—§randomç»“ç‚¹å¯¹åº”çš„æ–°èŠ‚ç‚¹ã€‚å‰ååˆ†åˆ«ç”¨åˆ°äº†æ–°è€åœ°å€çš„æ˜ å°„ï¼Œæ—§å’Œæ—§randomåœ°å€çš„æ˜ å°„ï¼Œæ—§åœ°å€å’Œæ–°åœ°å€çš„æ˜ å°„ã€‚

```cpp
class Solution {
public:
	Node* copyRandomList(Node* head) {
        if(head==NULL)
        {
            return NULL;
        }
		Node* cur =head;
		Node* phead= new Node(head->val);//æ–°é“¾è¡¨çš„ç¬¬ä¸€ä¸ªå¤´ç»“ç‚¹
		map<Node*, Node*>m_on;
		map<Node*, Node*>m_or;
		map<Node*, Node*>m_no;
		m_on[head] = phead;//æ–°åœ°å€-ã€‹æ—§åœ°å€-ã€‹æ—§ç»“ç‚¹randomçš„åœ°å€-ã€‹æ–°èŠ‚ç‚¹çš„åœ°å€
		m_no[phead] = head;
		m_or[head] = head->random; 
        cur = cur->next;
        Node* pcur=phead;//è´Ÿè´£æ–°é“¾è¡¨nextçš„é“¾æ¥
		while (cur!=NULL)
		{
			
			Node* tmp=new Node(cur->val);//æ‹·è´ä¸€ä¸ªcurç»“ç‚¹
			pcur->next = tmp;//æŠŠè¿™ä¸ªç»“ç‚¹æ–°çš„ç»“ç‚¹è¿èµ·æ¥
			m_on[cur] = tmp;
			m_no[tmp] = cur;
			m_or[cur] = cur->random;
			cur = cur->next;
            pcur=pcur->next;    
		}
		cur = phead;//éå†æ–°é“¾è¡¨
		while (cur)
		{
			cur->random = m_on[m_or[m_no[cur]]];
			cur = cur->next;
		}
		return phead;
	}
};
```



**ç¬¬äºŒç§å“ˆå¸Œè§£æ³•**

çœ‹äº†Kç¥çš„æ˜ å°„æ€è·¯ï¼Œåªéœ€è¦ä¸€ä¸ªæ˜ å°„å…³ç³»ï¼šï¼ˆæ—§åœ°å€ï¼Œæ–°åœ°å€ï¼‰

ç„¶åç¬¬ä¸€æ¬¡éå†é“¾è¡¨å»ºç«‹æ—§åœ°å€å’Œæ–°åœ°å€çš„å…³ç³»ï¼Œä¹‹åå†æ ¹æ®map[cur]->next = map[cur->next];è¿™ç§æ€æƒ³å°±èƒ½æ„å»ºå‡ºæ•´ä¸ªé“¾è¡¨ã€‚

```cpp
class Solution {
public:
	Node* copyRandomList(Node* head) {
		unordered_map<Node*, Node*>map;
		Node* cur = head;
		while (cur)
		{
			Node* tmp = new Node(cur->val);
			map[cur] = tmp;//æ–°è€åœ°å€æ˜ å°„
			cur = cur->next;
		}
     
		cur = head;
		while (cur)
		{
			map[cur]->next = map[cur->next];
			map[cur]->random = map[cur->random];
            cur=cur->next;
		}
		return map[head];
	}
};
```

## ğŸŠæ„å»ºæ‹†åˆ†é“¾è¡¨

æ„å»ºå‡ºä¸€ä¸ªé“¾è¡¨ï¼Œæ¯ä¸ªæ—§ç»“ç‚¹åé¢éƒ½è·Ÿä»–è‡ªå·±çš„æ‹·è´ï¼Œä¹Ÿå°±æ˜¯æ–°èŠ‚ç‚¹ï¼Œè¿™æ ·new_node->randomå’Œold_node->random->nextå°±å¯¹åº”èµ·æ¥äº†ã€‚**é¢˜è§£åŒºæœ‰å¤§ä½¬ç”»å›¾**

æ„æˆçš„è¿™ä¸ªé“¾è¡¨é‡Œé¢æœ‰ä¸€éƒ¨åˆ†æ˜¯æ–°é“¾è¡¨ï¼Œæ‰€ä»¥å†æŠŠè¿™ä¸ªé“¾è¡¨æ‹†åˆ†å°±èƒ½å¾—åˆ°æ–°é“¾è¡¨ã€‚

ä»£ç å®ç°ä¸Šæ³¨æ„ç©ºæŒ‡é’ˆçš„å¼•ç”¨ï¼Œè¦ç†Ÿæ‚‰å¯¹é“¾è¡¨çš„æ“ä½œï¼Œ**æœ€é‡è¦çš„æ˜¯åˆ†æ²»æ³•çš„æ€æƒ³**ã€‚æ¯ä¸€æ­¥å¿…é¡»æ¸…æ¥šè¦åšä»€ä¹ˆï¼Œæ¯”å¦‚æ„å»ºæ–°é“¾è¡¨çš„randomæŒ‡é’ˆå¾—å•ç‹¬ç”¨ä¸€ä¸ªå¾ªç¯ï¼Œè€Œä¸èƒ½ä¸€è¾¹å¾ªç¯æ„å»ºrandomæŒ‡é’ˆä¸€è¾¹å»æ‹†åˆ†é“¾è¡¨ï¼Œæˆ‘ä¸€å¼€å§‹æ˜¯è¿™ä¹ˆåšçš„ï¼Œç„¶åä¸€ç›´æŠ¥é”™...è§£å†³äº†ç©ºæŒ‡é’ˆç»“æœä¹Ÿä¸å¯¹ï¼Œåé¢çœ‹åˆ°é¢˜è§£åŒºå¤§ä½¬çš„ä»£ç æ‰å‘ç°æ‹†åˆ†é“¾è¡¨å’Œæ„å»ºrandomæŒ‡é’ˆä¸èƒ½åŒæ—¶è¿›è¡Œã€‚é¢˜ç›®éšå«çš„è¦æ±‚æ˜¯å°†æ—§çš„é“¾è¡¨è¿˜åŸã€‚

```cpp
class Solution {
public:
	Node* copyRandomList(Node* head) {
		if (head==NULL)
		{
			return NULL;
		}
		Node* cur = head;
        //æ„å»ºé“¾è¡¨
		while (cur)
		{
			Node* tmp = new Node(cur->val);
			Node* next = cur->next;
			cur->next = tmp;
			tmp->next = next;
			cur = next;
		}
        //æ„å»ºrandomæŒ‡é’ˆ
		cur = head;
        while(cur)
        {
            if(cur->random)
            {
                 cur->next->random=cur->random->next;
            }
            else
            {
                cur->random=NULL;
            }   
            cur=cur->next->next;
        }
        //æ‹†åˆ†é“¾è¡¨
        cur=head->next;
        Node* prev=head;
        Node* newhead=cur;
        while(cur)
        {
            prev->next=prev->next->next;
            if(cur->next)
            {
                cur->next=cur->next->next;
            }
            else{
                cur->next=NULL;
            }
            prev=prev->next;
            cur=cur->next;
        }
       
		return newhead;
	}
};
```

è¿™ç§åšæ³•çš„ç©ºé—´å¤æ‚åº¦æ˜¯Oï¼ˆ1ï¼‰ï¼Œç¬¬ä¸€ç§æ˜¯Oï¼ˆNï¼‰
